# AI-Powered Personal Beauty Advisor

## 1\. 프로젝트 배경

### 1.1. 국내외 시장 현황 및 문제점

최근 K-뷰티의 영향력이 커지면서 퍼스널 컬러와 개인 맞춤형 뷰티 컨설팅에 대한 관심이 급증하고 있습니다. 하지만 전문적인 컨설팅은 높은 비용과 시간적 제약으로 인해 접근성이 낮다는 문제점이 있습니다. 기존의 뷰티 앱들은 대부분 정형화된 4계절-12유형의 퍼스널 컬러 진단 체계에 의존하고 있어, 사용자 개개인의 고유한 특성을 완벽하게 반영하지 못하는 한계가 있었습니다. 또한, 다양한 조명 환경에서 촬영된 사진은 피부 톤 왜곡을 유발하여 진단의 정확도를 떨어뜨리는 주요 원인이 됩니다.

### 1.2. 필요성과 기대효과

본 프로젝트는 AI 기술을 활용하여 이러한 문제점들을 해결하고자 합니다. 딥러닝 기반의 정확한 퍼스널 컬러 분석과 가상 메이크업 기능을 통해, 사용자는 언제 어디서든 저렴한 비용으로 전문적인 뷰티 컨설팅을 경험할 수 있습니다. 특히, 기존의 정형화된 퍼스널 컬러 체계를 넘어, 대규모 데이터셋과 K-Means 클러스터링을 활용한 우리만의 새로운 퍼스널 컬러 시스템을 구축하여 사용자에게 새로운 스타일을 제안하고, 자신을 표현하고 발전시킬 기회를 제공하고자 합니다. 이를 통해 사용자는 자신에게 어울리는 새로운 스타일을 발견하고, 자신감을 높이며, 뷰티 산업의 개인 맞춤형 서비스 시장을 혁신하는 데 기여할 것으로 기대됩니다.

## 2\. 개발 목표

### 2.1. 목표 및 세부 내용

  - **새로운 퍼스널 컬러 체계 구축:** 약 5,000장의 얼굴 데이터셋과 K-Means 클러스터링을 활용하여, 기존의 4계절-12유형 분류를 넘어선 독자적인 퍼스널 컬러 시스템을 개발합니다.
  - **정확한 퍼스널 컬러 진단:** MediaPipe, Dlib 등 다양한 라이브러리를 활용하여 얼굴의 주요 부위를 정밀하게 추출하고, 고급 조명 보정 기술을 적용하여 진단의 정확도를 높입니다.
  - **가상 메이크업 및 헤어 시뮬레이션:** 사용자에게 진단된 퍼스널 컬러에 맞는 메이크업, 헤어, 렌즈, 의상 색상을 가상으로 적용하여 시뮬레이션 기능을 제공합니다.
  - **사용자 친화적인 웹 애플리케이션:** Python 기반의 Streamlit을 채택하여 데이터 분석 결과를 직관적으로 시각화하고, 사용자 경험을 최적화한 웹 서비스를 제공합니다.
  - **결과 리포트 제공:** 분석 결과와 가상 스타일링 이미지를 포함한 개인 맞춤형 리포트를 PDF 파일로 다운로드할 수 있는 기능을 제공합니다.

### 2.2. 기존 서비스 대비 차별성

  - **독자적인 퍼스널 컬러 시스템:** 기존의 정형화된 퍼스널 컬러 분류가 아닌, 데이터 기반의 동적 클러스터링을 통해 새로운 스타일을 제안합니다.
  - **고급 이미지 보정 기술:** 다양한 조명 환경에 대응하기 위해 히스토그램 평활화, 화이트 밸런스 보정 등 고급 전처리 기법을 도입하여 색상 왜곡을 최소화하고 진단의 정확도를 향상시킵니다.
  - **통합적인 스타일링 제안:** 단순히 어울리는 색을 진단하는 것을 넘어, 헤어, 립, 렌즈, 의상 등 통합적인 스타일링을 가상으로 체험할 수 있는 기회를 제공합니다.

### 2.3. 사회적 가치 도입 계획

본 프로젝트는 고가의 뷰티 컨설팅 서비스를 AI 기술을 통해 저렴하고 편리하게 제공함으로써, 뷰티 정보 격차를 해소하고 누구나 자신만의 아름다움을 발견하고 표현할 수 있도록 돕습니다. 이는 개인의 자신감 향상과 긍정적인 자아상 확립에 기여하며, 사회 전반의 다양성을 존중하는 문화를 확산시키는 데 긍정적인 영향을 미칠 수 있습니다.

## 3\. 시스템 설계

### 3.1. 시스템 구성도

```
[사용자] <--> [웹 브라우저 (HTML/CSS/JS)] <--> [웹 서버 (Flask)]
                                                    |
                                           +--------+--------+
                                           |                 |
                                    [AI 분석 모듈]    [데이터베이스 (Firebase)]
                                           |
                                 +---------+---------+
                                 |                   |
                         [퍼스널 컬러 진단]   [가상 메이크업]
```

### 3.2. 사용 기술

  - **Frontend:** HTML, CSS, JavaScript
  - **Backend:** Flask
  - **Database:** Firebase
  - **AI & Machine Learning:**
      - PyTorch
      - scikit-learn (K-Means)
      - facer
      - BiSeNet
  - **Image Processing:**
      - OpenCV
      - Pillow
      - Albumentations
  - **Deployment:**
      - Python 3.x
      - pip

## 4\. 개발 결과

### 4.1. 전체 시스템 흐름도

1.  **이미지 업로드:** 사용자는 정면 얼굴 사진을 웹사이트에 업로드합니다.
2.  **얼굴 및 피부 영역 검출:** 업로드된 이미지에서 얼굴을 감지하고, 피부, 머리카락, 입술 등의 영역을 정밀하게 분할합니다.
3.  **조명 보정:** AI가 이미지의 조명 상태를 분석하고, 화이트 밸런스 및 히스토그램 평활화 등 보정 작업을 수행합니다.
4.  **피부 톤 분석:** 보정된 이미지의 피부 영역에서 색상 특징을 추출하고, 사전 학습된 K-Means 모델을 사용하여 퍼스널 컬러를 진단합니다.
5.  **결과 시각화:** 진단된 퍼스널 컬러 타입과 추천 색상 팔레트, 스타일링 팁을 사용자에게 보여줍니다.
6.  **가상 메이크업:** 사용자는 추천된 색상을 기반으로 헤어, 립, 렌즈, 의상 등 다양한 스타일을 가상으로 적용해볼 수 있습니다.
7.  **PDF 리포트 생성:** 최종 결과를 PDF 리포트로 다운로드하여 저장할 수 있습니다.

### 4.2. 기능 설명 및 주요 기능 명세서

  - **퍼스널 컬러 진단:**
      - **입력:** 사용자 얼굴 이미지
      - **처리:** 얼굴 검출 -\> 조명 보정 -\> 피부 영역 색상 추출 -\> K-Means 클러스터링
      - **출력:** 8가지 독자적인 퍼스널 컬러 타입 중 하나로 진단
  - **가상 스타일링:**
      - **입력:** 원본 이미지, 퍼스널 컬러 타입, 사용자가 선택한 색상
      - **처리:** BiSeNet을 이용한 얼굴 영역 분할 -\> 알파 블렌딩을 통한 색상 적용
      - **출력:** 가상 메이크업 및 염색이 적용된 이미지
  - **PDF 결과 리포트:**
      - **입력:** 원본 이미지, 가상 스타일링 이미지, 퍼스널 컬러 분석 결과
      - **처리:** FPDF 라이브러리를 사용하여 PDF 문서 생성
      - **출력:** 개인 맞춤형 뷰티 리포트 PDF 파일

### 4.3. 디렉토리 구조

```
/
├── app.py                  # Flask 메인 애플리케이션
├── requirements.txt        # Python 라이브러리 종속성 파일
├── kmeans_model.joblib     # 학습된 K-Means 모델
├── scaler.joblib           # 데이터 스케일러
├── model.py                # BiSeNet 모델 정의
├── makeup.py               # 가상 메이크업 적용 함수
├── pdf.py                  # PDF 리포트 생성 함수
├── static/
│   ├── css/
│   ├── data/
│   │   └── colors.json     # 퍼스널 컬러별 추천 색상 데이터
│   ├── fonts/
│   ├── image/
│   └── js/
└── templates/
    ├── index.html
    ├── makeover.html
    └── ... (기타 HTML 템플릿 파일)
```

### 4.4. 산업체 멘토링 의견 및 반영 사항

(멘토링을 통해 받은 피드백과 이를 프로젝트에 어떻게 반영했는지에 대한 내용을 이 섹션에 추가할 수 있습니다.)

## 5\. 설치 및 실행 방법

### 5.1. 설치절차 및 실행 방법

1.  **저장소 복제:**

    ```bash
    git clone https://github.com/pnucse-capstone2025/Capstone-2025-team-11.git
    cd Capstone-2025-team-11.git
    ```

2.  **가상 환경 생성 및 활성화 (권장):**

    ```bash
    python -m venv venv
    source venv/bin/activate  # macOS/Linux
    # venv\Scripts\activate  # Windows
    ```

3.  **필요 라이브러리 설치:**

    ```bash
    pip install -r requirements.txt
    ```

4.  **app.py 애플리케이션 실행:**

    ```bash
    python app.py
    ```

5.  웹 브라우저에서 `http://127.0.0.1:5001` 주소로 접속합니다.

### 5.2. 오류 발생 시 해결 방법

  - **모델 파일 다운로드 오류:** `facer` 모델 다운로드 시 SSL 인증서 오류가 발생하면, `app.py` 파일 상단의 SSL 인증서 오류 해결 코드를 확인하거나, 인터넷 연결 상태를 점검해주세요.
  - **라이브러리 충돌:** 가상 환경을 사용하여 프로젝트별로 라이브러리를 격리하여 관리하는 것을 권장합니다.

## 6\. 소개 자료 및 시연 영상

### 6.1. 프로젝트 소개 자료

(프로젝트 발표에 사용된 PPT 등의 소개 자료를 여기에 링크하거나 첨부할 수 있습니다.)

### 6.2. 시연 영상

(프로젝트의 주요 기능을 시연하는 영상 링크를 여기에 추가할 수 있습니다.)

## 7\. 팀 구성

### 7.1. 팀원별 소개 및 역할 분담

| 이름 | 역할 | 주요 담당 업무 |
| :--- | :--- | :--- |
| **Han Nwae Nyein** | 팀장, 퍼스널 컬러 시스템 개발 | 프로젝트 총괄, 시스템 설계, 피부색 특징 추출 및 K-Means 클러스터링 적용, 맞춤형 색상 추천 시스템 개발 |
| **Nyi Nyi Htun** | 색상 적용 담당 | BiSeNet 기반 얼굴 부위 분할, 알파 블렌딩을 이용한 자연스러운 색상 적용, 가상 메이크업 기능 구현 |
| **전재원** | 퍼스널 컬러 시스템 개발 | 전체 클러스터링 프레임워크 구축, K-Means, Elbow Method, Silhouette Score를 활용한 최적 클러스터 도출, 데이터 시각화 및 분석 |


## 8\. 참고 문헌 및 출처
## 8. 참고 문헌 및 출처
* [Deep Armocromia: A Novel Dataset for Face Seasonal Color Analysis and Classification](https://www.researchgate.net/publication/383463705_Deep_Armocromia_A_Novel_Dataset_for_Face_Seasonal_Color_Analysis_and_Classification)
* [COLOUR ANALYSIS CHEAT SHEETS](https://stylecoachinginstitute.com/wp-content/uploads/sites/2/2020/11/Colour-Analysis-Cheat-Sheets-_Full-Set.pdf)

